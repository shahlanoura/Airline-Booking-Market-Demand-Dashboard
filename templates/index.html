<!doctype html>
<html lang="en">
<head>
  <title>Airline Market Demand</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding: 2rem; }
  </style>
</head>
<body>
  <h2 class="mb-4">✈️ Airline Booking Market Demand Dashboard</h2>

  <form method="POST" class="mb-3">
    <label>Select Origin Country:</label>
    <select name="country" class="form-select" onchange="this.form.submit()">
      {% for c in countries %}
        <option value="{{ c }}" {% if c == selected %}selected{% endif %}>{{ c }}</option>
      {% endfor %}
    </select>
  </form>

  <p>Total flights fetched: <strong>{{ total }}</strong></p>

  <h4>📊 Top Origin Countries by Flight Count</h4>
  <ul>
    {% for country, count in top_routes.items() %}
      <li>{{ country }}: {{ count }} flights</li>
    {% endfor %}
  </ul>

  <h4 class="mt-4">🗺️ Flight Visualization for {{ selected }}</h4>
  <div>{{ chart_div | safe }}</div>
</body>
</html>
